<html lang="en" xmlns:th="http://www.thymeleaf.org">
<html>

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Manager Dash Board</title>


    <link rel="stylesheet" type="text/css" href="/css/mxstyle.css" media="all">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"/>

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"/>

    <link rel="stylesheet" href="https://unpkg.com/smartphoto@0.7.6/css/smartphoto.min.css">

</head>

<body>
<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header"><a class="navbar-brand navbar-link" href="#">CaseMobile</a>
            <button class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navcol-1">
                	<span class="sr-only">
                		Toggle navigation
                	</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div class="collapse navbar-collapse">

            <div class="col-lg-4">
                <ul class="nav navbar-nav ">
                    <li class="active" role="presentation"><a href="/designer">Заказы</a></li>
                </ul>
            </div>
            <div class="col-lg-4">
                <h4> Заказ №001 Дата заказа: 02.10.2017</h4>
            </div>

            <ul class="nav navbar-nav navbar-right">
                <li><a href="#">Дизайнер</a></li>
                <li><a th:href="@{/logout}">Выход <span class="glyphicon glyphicon-log-out"></span></a></li>
            </ul>
        </div>
    </div>
</nav>

<br>
<div class="container">
    <div class="row">
        <div class="col-lg-9">
            <div class="form-horizontal borderSimple ">

                <div class="tab-content">
                    <div class="tab-pane active" id="tabItem">

                        <br>


                        <table class="table">

                            <tr>
                            <tr>
                                <td>
                                    <li class="list-group-item lighGrey">Продукт</li>
                                </td>
                                <td>
                                    <li class="list-group-item" th:if="${item}" th:text="${item.getName()}">Чехол</li>
                                </td>
                            </tr>
                            <br>

                            <tr>
                                <td>
                                    <li class="list-group-item lighGrey">Модель телефона</li>
                                </td>
                                <td>
                                    <li class="list-group-item" th:text="${item.getModel()}">Iphone</li>
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <li class="list-group-item lighGrey">Тип</li>
                                </td>
                                <td>
                                    <li class="list-group-item" th:text="${item.getType()}">Деревянный</li>
                                </td>
                            </tr>

                            </tr>
                        </table>
                        <ul style="padding-left: 20px; ">
                            Комментарий:
                            <li class="list-group-item" th:text="${item.getComment()}"> Бла-бла-бла
                            </li>
                        </ul>
                        <h5 >Изображения:</h5>

                        <ul th:each="element: ${item.getFiles()}" style="padding-left: 20px; display: inline-block">
                            <a th:if="${element}" th:href="${element}"><img
                                th:if="${element}" th:src="${element}" width="50"
                                height="50"></a>

                        </ul>


                    </div>


                </div>

                </fieldset>
            </div>
        </div>


        <div class="col-lg-3">
            <div class="form-horizontal borderSimple ">
                <fieldset>
                    <h4 align="center">Текущий статус</h4>


                    <label class="form-control statusL" th:text="${item.getStatusString()}">Новый </label>
                </fieldset>
                <br>
                <fieldset>

                    <div th:switch="${item.getStatus()}">
                        <form th:action="'/designer/order/item/save/' +${item.getId()}" method="post" id="save">

                            <button th:case="true" class="btn btn-success width100" type="submit" form="save"
                                    name="status"
                            >Вернуть
                            </button>
                            <button th:case="false" class="btn btn-success width100" type="submit" form="save"
                                    name="status" th:disabled="${item.getImages().size() == 0} ">Собрать
                            </button>
                        </form>
                    </div>

                </fieldset>
                <br>
                <form th:action="'/designer/order/' + ${item.getOrder().getId()}" id="backBtn" method="get">
                    <button class="btn btn-success width100" type="submit">Назад</button>
                </form>
            </div>


            <br>

        </div>


        <br>

        <div class="col-lg-12 pagging20 ">
            <div class="form-horizontal borderSimple pagging20 paggingL10" >
                <fieldset>



                    <span id="OrderId" th:value="${item.getId()}" hidden></span>


                    <div class="container">
                        <ul th:each="element: ${item.getImages()}" style="padding-left: 20px; display: inline-block">

                            <br>
                            <a th:href="${element.getImage()}" class="js-smartPhoto" >
                                <img th:src="${element.getImage()}" width="50"
                                     height="50"></a>

                            <form th:action="'/designer/order/item/delimage/' +${element.getId()}"
                                  method="post">
                                <p>
                                    <button type="submit" class="btn btn-default btn-sm" >
                                        <i class="glyphicon glyphicon-trash" aria-hidden="true" style="color: red;"></i>
                                    </button>
                                </p>
                            </form>
                        </ul>
                        <!-- HTML heavily inspired by https://blueimp.github.io/jQuery-File-Upload/ -->
                        <div id="actions" class="row">
                            <div class="col-lg-7">
                                <!-- The fileinput-button span is used to style the file input field as button -->
                                <span class="btn btn-success fileinput-button dz-clickable">
          <i class="glyphicon glyphicon-plus"></i>
          <span>Добавить файл</span>
      </span>

                                <button type="submit" class="btn btn-primary start">
                                    <i class="glyphicon glyphicon-upload"></i>
                                    <span>Загрузить все</span>
                                </button>

                                <button type="reset" class="btn btn-warning cancel">
                                    <i class="glyphicon glyphicon-ban-circle"></i>
                                    <span>Отменить загрузку</span>
                                </button>
                            </div>

                            <div class="col-lg-5">
                                <!-- The global file processing state -->
                                <span class="fileupload-process">
        <div id="total-progress" class="progress progress-striped active" role="progressbar" aria-valuemin="0"
             aria-valuemax="100" aria-valuenow="0">
          <div class="progress-bar progress-bar-success" style="width:0%;" data-dz-uploadprogress=""></div>
        </div>
      </span>
                            </div>
                        </div>
                        <div class="table table-striped files" id="previews">
                            <div id="template" class="file-row dz-image-preview">
                                <!-- This is used as the file preview template -->
                                <div>
                                    <span class="preview"><img data-dz-thumbnail></span>
                                </div>
                                <div>
                                    <p class="name" data-dz-name></p>
                                    <strong class="error text-danger" data-dz-errormessage></strong>
                                </div>
                                <div>
                                    <p class="size" data-dz-size></p>
                                    <div class="progress progress-striped active" role="progressbar" aria-valuemin="0"
                                         aria-valuemax="100" aria-valuenow="0">
                                        <div class="progress-bar progress-bar-success" style="width:0%;"
                                             data-dz-uploadprogress></div>
                                    </div>
                                </div>
                                <div>


                                    <button class="btn btn-primary start" type="button">
                                        <i class="glyphicon glyphicon-upload"></i>
                                        <span>Загрузить</span>
                                    </button>


                                    <button data-dz-remove class="btn btn-warning cancel">
                                        <i class="glyphicon glyphicon-ban-circle"></i>
                                        <span>Отмена</span>
                                    </button>


                                </div>
                            </div>
                        </div>
                    </div>


                </fieldset>
            </div>
        </div>
    </div>
</div>


<!-- <script src='https://cdnjs.cloudflare.com/ajax/libs/dropzone/4.3.0/dropzone.js'></script> -->
<script src="/js/dropzone.js"></script>
<script src="/js/mxdropzone.js"></script>
<script src="/js/mxscript.js"></script>


<script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>


<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
        integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"
        integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
        crossorigin="anonymous"></script>


<script src="https://unpkg.com/smartphoto@0.7.6/js/smartphoto.min.js"></script>


<span th:text="'/designer/order/item?itemId=' +${item.getId()}" hidden id="linkToItem"></span>

</body>
</html>