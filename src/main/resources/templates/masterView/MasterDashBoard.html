<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>Master Dash Board</title>

    <!-- DataTables settings -->
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.16/css/jquery.dataTables.css">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css"/>

    <!-- Optional theme -->
    <link rel="stylesheet" href="/css/bootstrap-theme.min.css"/>

    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
</head>

<body>
<nav class="navbar navbar-inverse">
	<div class="container-fluid">
		<div class="navbar-header"><a class="navbar-brand navbar-link" href="#">CaseMobile</a>
			<button class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navcol-1">
                	<span class="sr-only">
                		Toggle navigation
                	</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
		</div>
		<div class="collapse navbar-collapse" id="navcol-1">
			<ul class="nav navbar-nav">
				<li role="presentation"><a href="#">Заказы</a></li>
			</ul>
			<ul class="nav navbar-nav navbar-right">
				<li><a href="#">Мастер</a></li>
				<li>
                    <form class="navbar-form navbar-right">
                        <a class="btn btn-sm btn-info logout" th:href="@{/logout}">Выход  <span class="glyphicon glyphicon-log-out"></span></a>
                    </form>
				</li>
			</ul>
		</div>
	</div>
</nav>

<div class="container">
    <h4>find orders by range</h4>
    <input type="text" name="datefilter" value="" />

    <script type="text/javascript">
        $(function() {

            $('input[name="datefilter"]').daterangepicker({
                autoUpdateInput: false,
                locale: {
                    cancelLabel: 'Clear'
                }
            });

            $('input[name="datefilter"]').on('apply.daterangepicker', function(ev, picker) {
                $(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
            });

            $('input[name="datefilter"]').on('cancel.daterangepicker', function(ev, picker) {
                $(this).val('');
            });

        });
    </script>
</div>

<br>
<div class="container">
	<div class="row">
		<form action="/master/search" th:action="@{/master/search}" method="POST" id="searchItem">
			<div class="col-lg-3">
				<div class="input-group">
					<input type="text" class="form-control" placeholder="Заказ" name="searchItem">
					<span class="input-group-btn">
							<button class="btn btn-default" type="button">Найти</button>
						</span>
				</div>
			</div>
		</form>
	</div>
</div>

<br>

<div class="container">
	<div class="table-responsive">
		<table class="table table-bordered data" text-align="center" id="example">
			<thead>
			<tr>
				<th style="background-color: #777777; color: #FFFFFF; text-align: center;">№ Заказа</th>
				<th style="background-color: #777777; color: #FFFFFF; text-align: center;">Мастер</th>
				<th style="background-color: #777777; color: #FFFFFF; text-align: center;">Платеж</th>
				<th style="background-color: #777777; color: #FFFFFF; text-align: center;">Доставка</th>
				<th style="background-color: #777777; color: #FFFFFF; text-align: center;">Статус</th>
				<th style="background-color: #777777; color: #FFFFFF; text-align: center;">Дата получения</th>
				<th style="background-color: #777777; color: #FFFFFF; text-align: center;">Дата отправки</th>
				<th style="background-color: #777777; color: #FFFFFF; text-align: center;">Действие</th>
			</tr>
			</thead>
			<tbody>
			<tr th:each="order : ${masterOrders}">
				<td th:text="${order.getId()}" style="text-align: center;"></td>
				<td th:text="${order.master}" style="text-align: center;"></td>
				<td th:text="${order.getPaymentString()}" style="text-align: center;"></td>
				<td th:text="${order.getDeliveryType()}" style="text-align: center;"></td>
				<td th:text="${order.getStatus()}" style="text-align: center;"></td>
				<td th:text="${order.getDateRecieved()}" style="text-align: center;"></td>
				<td th:text="${order.getDateTransferred()}" style="text-align: center;"></td>
				<td style="text-align:center">
                    <form th:action="@{'/master/order/' + ${order.getId()}}" method="get">
                        <input class="btn btn-info"  type="submit" value="Открыть" />
                    </form>
				</td>
			</tr>
			</tbody>
		</table>
	</div>
</div>


    <!-- Optional JavaScript -->
    <!-- Include Required Prerequisites -->
    <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/1/jquery.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap/3/css/bootstrap.css" />

    <!-- Include Date Range Picker -->
    <script type="text/javascript" src="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
            integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"
            integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>

    <script>
        $(document).ready( function() {
        $('#example').DataTable({
            "scrollY":        "200px",
            "scrollCollapse": true,
            "paging":         false
        });
            } );
    </script>

</body>
</html>